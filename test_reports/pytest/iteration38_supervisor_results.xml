<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="11" skipped="0" tests="13" time="5.988" timestamp="2026-02-20T12:52:01.662407+00:00" hostname="agent-env-1f9c7ad5-097e-4a8a-ac60-8f38b2a19cf1"><testcase classname="tests.test_iteration38_supervisor_features.TestAuth" name="test_login_supervisor" time="0.413"><failure message="AssertionError: assert 'access_token' in {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMGMzOGUzOGQtNzBhMy01NGU2LWIzYWItYzhhN2NiNjI4ZDA5Iiwicm9sZSI6InN1cGVydmlzb3IiLCJ1c2VybmFtZSI6InN1cGVydmlzb3IxIiwiZnVsbF9uYW1lIjoiQWhtYWQgQWwtSGFyYmkiLCJlbXBsb3llZV9pZCI6IkVNUC0wMDIiLCJleHAiOjE3NzE2NzgzMjJ9.dXs4btrgkp4nQaKCm3x3j_lHaWeljtLm1fPC-15euNI', 'user': {'employee_id': 'EMP-002', 'full_name': 'Ahmad Al-Harbi', 'full_name_ar': 'أحمد الحربي', 'id': '0c38e38d-70a3-54e6-b3ab-c8a7cb628d09', ...}}">tests/test_iteration38_supervisor_features.py:36: in test_login_supervisor
    assert "access_token" in data
E   AssertionError: assert 'access_token' in {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMGMzOGUzOGQtNzBhMy01NGU2LWIzYWItYzhhN2NiNjI4ZDA5Iiwicm9sZSI6InN1cGVydmlzb3IiLCJ1c2VybmFtZSI6InN1cGVydmlzb3IxIiwiZnVsbF9uYW1lIjoiQWhtYWQgQWwtSGFyYmkiLCJlbXBsb3llZV9pZCI6IkVNUC0wMDIiLCJleHAiOjE3NzE2NzgzMjJ9.dXs4btrgkp4nQaKCm3x3j_lHaWeljtLm1fPC-15euNI', 'user': {'employee_id': 'EMP-002', 'full_name': 'Ahmad Al-Harbi', 'full_name_ar': 'أحمد الحربي', 'id': '0c38e38d-70a3-54e6-b3ab-c8a7cb628d09', ...}}</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestAuth" name="test_login_sultan" time="0.348"><failure message="AssertionError: assert 'access_token' in {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNTRlNDIyYjgtMzU3Yy01ZmRjLTgxZDUtZGU2Y2FjNTY1ODEwIiwicm9sZSI6InN1bHRhbiIsInVzZXJuYW1lIjoic3VsdGFuIiwiZnVsbF9uYW1lIjoiTXIuU3VsdGFuIEFsIFphbWlsIiwiZW1wbG95ZWVfaWQiOiJFTVAtMDAxIiwiZXhwIjoxNzcxNjc4MzIyfQ.ZakAoYLNYbkzwqCWuXlqZYqKZZ9Dm7HpULoCdggPMFY', 'user': {'employee_id': 'EMP-001', 'full_name': 'Mr.Sultan Al Zamil', 'full_name_ar': 'أ.سلطان الزامل', 'id': '54e422b8-357c-5fdc-81d5-de6cac565810', ...}}">tests/test_iteration38_supervisor_features.py:48: in test_login_sultan
    assert "access_token" in data
E   AssertionError: assert 'access_token' in {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNTRlNDIyYjgtMzU3Yy01ZmRjLTgxZDUtZGU2Y2FjNTY1ODEwIiwicm9sZSI6InN1bHRhbiIsInVzZXJuYW1lIjoic3VsdGFuIiwiZnVsbF9uYW1lIjoiTXIuU3VsdGFuIEFsIFphbWlsIiwiZW1wbG95ZWVfaWQiOiJFTVAtMDAxIiwiZXhwIjoxNzcxNjc4MzIyfQ.ZakAoYLNYbkzwqCWuXlqZYqKZZ9Dm7HpULoCdggPMFY', 'user': {'employee_id': 'EMP-001', 'full_name': 'Mr.Sultan Al Zamil', 'full_name_ar': 'أ.سلطان الزامل', 'id': '54e422b8-357c-5fdc-81d5-de6cac565810', ...}}</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestManualAttendanceAPI" name="test_manual_attendance_endpoint_exists" time="0.476"><failure message="AssertionError: Expected 400/422, got 401: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 in [400, 422]&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:90: in test_manual_attendance_endpoint_exists
    assert response.status_code in [400, 422], f"Expected 400/422, got {response.status_code}: {response.text}"
E   AssertionError: Expected 400/422, got 401: {"detail":"Invalid or expired token"}
E   assert 401 in [400, 422]
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestManualAttendanceAPI" name="test_manual_attendance_requires_acknowledgment" time="0.458"><failure message="AssertionError: Expected 400, got 401: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 400&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:111: in test_manual_attendance_requires_acknowledgment
    assert response.status_code == 400, f"Expected 400, got {response.status_code}: {response.text}"
E   AssertionError: Expected 400, got 401: {"detail":"Invalid or expired token"}
E   assert 401 == 400
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestManualAttendanceAPI" name="test_manual_attendance_not_your_employee" time="0.481"><failure message="AssertionError: Expected 403, got 401: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 403&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:138: in test_manual_attendance_not_your_employee
    assert response.status_code == 403, f"Expected 403, got {response.status_code}: {response.text}"
E   AssertionError: Expected 403, got 401: {"detail":"Invalid or expired token"}
E   assert 401 == 403
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestManualAttendanceAPI" name="test_my_team_attendance_endpoint" time="0.433"><failure message="AssertionError: Failed to get team attendance: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:158: in test_my_team_attendance_endpoint
    assert response.status_code == 200, f"Failed to get team attendance: {response.text}"
E   AssertionError: Failed to get team attendance: {"detail":"Invalid or expired token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestSupervisorAccessRestrictions" name="test_supervisor_can_access_team_summary" time="0.498"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:183: in test_supervisor_can_access_team_summary
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Invalid or expired token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestSupervisorAccessRestrictions" name="test_supervisor_can_access_daily_attendance" time="0.419"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:197: in test_supervisor_can_access_daily_attendance
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Invalid or expired token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestSultanManagementAccess" name="test_sultan_can_access_penalties_report" time="0.435"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:217: in test_sultan_can_access_penalties_report
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Invalid or expired token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestSultanManagementAccess" name="test_sultan_can_access_pending_corrections" time="0.495"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:231: in test_sultan_can_access_pending_corrections
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Invalid or expired token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestSultanManagementAccess" name="test_sultan_can_access_pending_deductions" time="0.431"><failure message="AssertionError: Failed: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">tests/test_iteration38_supervisor_features.py:245: in test_sultan_can_access_pending_deductions
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":"Invalid or expired token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="tests.test_iteration38_supervisor_features.TestSupervisorCantAccessPenalties" name="test_supervisor_cannot_update_status_directly" time="0.441" /><testcase classname="tests.test_iteration38_supervisor_features.TestSupervisorCantAccessPenalties" name="test_supervisor_cannot_access_pending_corrections" time="0.453" /></testsuite></testsuites>